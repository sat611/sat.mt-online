<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>HOME</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>


<div class="wrapper">

  <!-- üåê Sidebar ‡πÄ‡∏°‡∏ô‡∏π -->
  <aside class="sidebar">
    <h2>üìñ‡πÄ‡∏°‡∏ô‡∏π</h2>
    <ul>
      <ul>
  <li onclick="location.href='prodhome.html'">üìã ‡πÅ‡∏à‡πâ‡∏á‡∏ã‡πà‡∏≠‡∏°‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</li>
  <li onclick="location.href='history.html'">üìö ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏°‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á</li>
  <li onclick="location.href='graph.html'">üìä ‡∏Å‡∏£‡∏≤‡∏ü</li>
  <li onclick="location.href='monitor.html'">üñ•Ô∏è Monitoring</li>
  <li onclick="location.href='xxxxx.html'">‚ö†Ô∏è Code Alarm</li>
  <li onclick="location.href='part.html'">üõí Spare Part</li>
  <li onclick="location.href='login.html'">‚û°Ô∏è Log-out</li>
</ul>
  </aside>

  <!-- üè† Home Main Content -->
  <main class="main-content">
    <h1>‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏´‡∏ï‡∏∏‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</h1>
    <div class="status-container">
      <!-- üîÅ ‡∏£‡∏ß‡∏°‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏•‡∏∞‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏ö‡∏•‡πá‡∏≠‡∏Å‡πÄ‡∏î‡∏µ‡∏¢‡∏ß -->
<div style="margin-top: 20px; display: flex; flex-direction: column; align-items: center; gap: 20px;">

  <!-- ‡∏õ‡∏∏‡πà‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏´‡∏ï‡∏∏ -->
  <div style="display: flex; justify-content: center; gap: 10px;">
    <button  id=""btn-report   ondblclick="window.location.href='report.html'" style="background-color: rgba(204, 206, 184, 0.622); color: rgb(21, 21, 21); padding: 15px 30px; border: none; border-radius: 10px; font-size: 18px;">
      üî¥ ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏´‡∏ï‡∏∏
    </button>



    <button ondblclick="window.location.href='progress.html'" style="background-color: #edede0; padding: 15px 30px; border: none; border-radius: 10px; font-size: 18px;">
      üü° ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏°
    </button>

    <button ondblclick="window.location.href='completed.html'" style="background-color: #0a0; color: white; padding: 15px 30px; border: none; border-radius: 10px; font-size: 18px;">
      ‚úÖ ‡∏ã‡πà‡∏≠‡∏°‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô
    </button>

  </div>






  <!-- üßæ ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• -->
  <div style="width: 100%; max-width: 900px; background-color: #f7f7f7; padding: 20px; border-radius: 10px;">
    <h3>üìã ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡∏ã‡πà‡∏≠‡∏°‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h3>
    <table border="1" style="width: 100%; border-collapse: collapse; text-align: left;">
      <thead style="background-color: #ddd;">
        










        
      
        <!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡∏ã‡πà‡∏≠‡∏°</title>

  


        
        
        <tr>
          <th>‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>
          <th>‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£</th>
          <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà</th>
          <th>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏õ‡∏±‡∏ç‡∏´‡∏≤</th>
          <th>‡∏ú‡∏π‡πâ‡πÅ‡∏à‡πâ‡∏á</th>
          <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>
          <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏±‡πä‡∏°‡∏•‡∏° A1</td>
          <td>‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô 1</td>
          <td>‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÑ‡∏î‡πâ</td>
          <td>‡∏™‡∏°‡∏ä‡∏≤‡∏¢</td>
          <td>30/07/2025</td>
          <td style="color: red;">‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</td>
        </tr>
        
        <tr>
          <td>2</td>
          <td>‡∏™‡∏≤‡∏¢‡∏û‡∏≤‡∏ô‡∏•‡∏≥‡πÄ‡∏•‡∏µ‡∏¢‡∏á B2</td>
          <td>‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô 2</td>
          <td>‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏î‡∏±‡∏á‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥</td>
          <td>‡∏Å‡∏≤‡∏ç‡∏à‡∏ô‡∏≤</td>
          <td>29/07/2025</td>
          <td style="color: orange;">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</td>
        </tr>
        <tr>
          <td>3</td>
          <td>‡∏°‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå C3</td>
          <td>‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô 3</td>
          <td>‡∏°‡∏µ‡∏Å‡∏•‡∏¥‡πà‡∏ô‡πÑ‡∏´‡∏°‡πâ</td>
          <td>‡∏ì‡∏±‡∏ê‡∏ß‡∏∏‡∏í‡∏¥</td>
          <td>28/07/2025</td>
          <td style="color: green;">‡∏ã‡πà‡∏≠‡∏°‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô</td>
        </tr>
        <button onclick="window.location.href='update_status.php?id=1&to=in_progress'">üì• ‡∏Å‡∏î‡∏£‡∏±‡∏ö‡πÉ‡∏ö‡πÅ‡∏à‡πâ‡∏á‡∏ã‡πà‡∏≠‡∏°</button>

      </tbody>
    </table>
  </div>
</div>    


<form id="repairForm" action="save_data.php" method="POST"> <!--‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏ÅProdhome.html-->






  






<script src="script.js"></script>


<script>
  async function checkStatus() {
    const response = await fetch('get_status.php'); // PHP ‡∏ó‡∏µ‡πà query DB
    const data = await response.json();

    // ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÅ‡∏à‡πâ‡∏á‡∏ã‡πà‡∏≠‡∏°
    if (data.pending > 0) {
      document.getElementById('btn-report').classList.add('blink-red');
    }
    if (data.in_progress > 0) {
      document.getElementById('btn-progress').classList.add('blink-yellow');
    }
    if (data.completed > 0) {
      document.getElementById('btn-completed').style.backgroundColor = '#0a0';
    }
  }

  setInterval(checkStatus, 3000); // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ó‡∏∏‡∏Å 3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
  checkStatus();
</script>

<script>
async function checkStatus() {
  const res = await fetch('get_status.php');
  const data = await res.json();

  const btnReport = document.getElementById('btn-report');
  const btnProgress = document.getElementById('btn-progress');
  const btnCompleted = document.getElementById('btn-completed');

  // ‡∏•‡πâ‡∏≤‡∏á class ‡∏Å‡πà‡∏≠‡∏ô
  btnReport.classList.remove('blink-red');
  btnProgress.classList.remove('blink-yellow');

  if (data.pending > 0) {
    btnReport.classList.add('blink-red');
  }
  if (data.in_progress > 0) {
    btnProgress.classList.add('blink-yellow');
  }
}

setInterval(checkStatus, 3000);
checkStatus();
</script>






</body>
</html>
